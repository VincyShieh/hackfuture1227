<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®‡å®™æ¼«æ¸¸è®°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', sans-serif;
            overflow: hidden;
            background: #000;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="%23FFD700" d="M12 2l2.4 7.4h7.6l-6 4.6 2.3 7-6.3-4.7-6.3 4.7 2.3-7-6-4.6h7.6z"/></svg>') 12 12, auto;
        }

        #game-container {
            width: 100vw;
            height: 100vh;
            position: relative;
            background: radial-gradient(ellipse at center, #1a1a3e 0%, #000000 100%);
        }

        .stars {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .scene {
            position: absolute;
            width: 100%;
            height: 100%;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 1s;
        }

        .scene.active {
            display: flex;
            opacity: 1;
        }

        .character {
            width: 150px;
            height: 150px;
            margin-bottom: 30px;
            position: relative;
            animation: float 3s ease-in-out infinite;
        }

        .girl-astronaut {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .astronaut-head {
            width: 120px;
            height: 120px;
            background: #ffe5cc;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid white;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            overflow: visible;
        }

        .hair {
            position: absolute;
            width: 110px;
            height: 50px;
            background: #4a2c2a;
            border-radius: 50% 50% 0 0;
            top: -5px;
            left: 50%;
            transform: translateX(-50%);
        }

        .hair-side-left, .hair-side-right {
            position: absolute;
            width: 30px;
            height: 40px;
            background: #4a2c2a;
            border-radius: 50%;
            top: 20px;
        }

        .hair-side-left { left: -10px; }
        .hair-side-right { right: -10px; }

        /* å®Œæ•´å®‡èˆªå‘˜æ ·å¼ï¼ˆç”¨äºç”»é¢äº”å’Œç”»é¢å…­ï¼‰ */
        .character.full-body {
            height: 200px;
        }

        .full-body .astronaut-head {
            width: 80px;
            height: 80px;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
        }

        .full-body .hair {
            width: 90px;
            height: 40px;
        }

        .full-body .hair-side-left, .full-body .hair-side-right {
            width: 25px;
            height: 35px;
            top: 15px;
        }

        .full-body .astronaut-helmet {
            width: 100px;
            height: 90px;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
        }

        .full-body .astronaut-face {
            top: 45px;
            left: 50%;
            transform: translateX(-50%);
        }

        .astronaut-body {
            width: 70px;
            height: 80px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            position: absolute;
            top: 90px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 10px 10px 5px 5px;
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.5);
        }

        .astronaut-arm {
            width: 20px;
            height: 50px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            position: absolute;
            top: 95px;
            border-radius: 10px;
        }

        .astronaut-arm.left { 
            left: 25px; 
            transform: rotate(-20deg);
        }
        .astronaut-arm.right { 
            right: 25px;
            transform: rotate(20deg);
        }

        .astronaut-leg {
            width: 25px;
            height: 45px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            position: absolute;
            top: 165px;
            border-radius: 5px 5px 10px 10px;
        }

        .astronaut-leg.left { left: 40px; }
        .astronaut-leg.right { right: 40px; }

        .astronaut-helmet {
            width: 140px;
            height: 130px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50% 50% 45% 45%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 3px solid rgba(255, 255, 255, 0.8);
            box-shadow: inset 0 0 20px rgba(102, 126, 234, 0.2);
        }

        .astronaut-face {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .eye {
            width: 10px;
            height: 10px;
            background: #333;
            border-radius: 50%;
            position: absolute;
            top: 0;
        }

        .eye.left { left: -15px; }
        .eye.right { right: -15px; }

        .smile {
            width: 25px;
            height: 12px;
            border: 2px solid #ff6b9d;
            border-top: none;
            border-radius: 0 0 25px 25px;
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .dialog-box {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px 40px;
            max-width: 600px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .dialog-box h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 28px;
        }

        .dialog-box p {
            color: #333;
            line-height: 1.8;
            margin-bottom: 25px;
            font-size: 16px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 30px;
            font-size: 18px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(102, 126, 234, 0.6);
        }

        .planet-map {
            display: flex;
            gap: 50px;
            margin: 30px 0;
            justify-content: center;
            align-items: center;
        }

        .planet-icon {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            cursor: pointer;
            position: relative;
            transition: transform 0.3s;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        }

        .planet-icon:hover {
            transform: scale(1.15);
        }

        .planet-icon.mars { 
            background: radial-gradient(circle, #ff6b4a 0%, #c13b1a 100%);
            box-shadow: 0 0 30px rgba(255, 107, 74, 0.6);
        }
        
        .planet-icon.jupiter { 
            background: radial-gradient(circle, #f4d4a8 0%, #d89e5f 100%);
            box-shadow: 0 0 30px rgba(244, 212, 168, 0.6);
        }
        
        .planet-icon.saturn { 
            background: radial-gradient(circle, #f9e4b7 0%, #e6c068 100%);
            box-shadow: 0 0 30px rgba(249, 228, 183, 0.6);
        }

        .planet-icon::after {
            content: attr(data-name);
            position: absolute;
            bottom: -35px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 18px;
            font-weight: bold;
            white-space: nowrap;
            text-shadow: 0 0 20px currentColor, 0 0 40px currentColor;
        }

        .planet-icon.mars::after {
            color: #ff6b4a;
        }

        .planet-icon.jupiter::after {
            color: #f4d4a8;
        }

        .planet-icon.saturn::after {
            color: #f9e4b7;
        }

        .planet-view {
            width: 450px;
            height: 450px;
            border-radius: 50%;
            position: relative;
            margin: 30px auto;
            box-shadow: 0 0 80px rgba(255, 255, 255, 0.3);
            background-size: cover;
            background-position: center;
        }

        .planet-view.mars {
            background: radial-gradient(circle at 35% 35%, #ff8a65 0%, #ff6b4a 30%, #d84315 70%, #bf360c 100%);
        }

        .planet-view.jupiter {
            background: radial-gradient(circle at 40% 30%, #ffe082 0%, #ffd54f 20%, #ffb74d 50%, #d89e5f 80%, #8d6e63 100%);
        }

        .planet-view.saturn {
            background: radial-gradient(circle at 38% 35%, #fff9c4 0%, #f9e4b7 30%, #f4d4a8 60%, #e6c068 90%);
            position: relative;
        }

        .saturn-ring {
            position: absolute;
            width: 550px;
            height: 150px;
            border: 40px solid rgba(230, 192, 104, 0.6);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotateX(75deg);
            box-shadow: 0 0 30px rgba(230, 192, 104, 0.4);
        }

        .hotspot {
            position: absolute;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            animation: pulse 2s infinite;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.6);
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .info-card {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            z-index: 1000;
            transition: transform 0.3s;
        }

        .info-card.show {
            transform: translate(-50%, -50%) scale(1);
        }

        .info-card h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .info-card p {
            color: #333;
            line-height: 1.8;
            margin-bottom: 20px;
        }

        .specimen-wall {
            display: grid;
            grid-template-columns: repeat(3, 150px);
            gap: 30px;
            margin: 30px 0;
        }

        .specimen {
            width: 150px;
            height: 150px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .specimen:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-5px);
        }

        .specimen.unlocked {
            border-color: #667eea;
            box-shadow: 0 0 30px rgba(102, 126, 234, 0.5);
        }

        .choice-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }

        .choice-btn {
            background: rgba(102, 126, 234, 0.2);
            color: white;
            border: 2px solid #667eea;
            padding: 15px 30px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
        }

        .choice-btn:hover {
            background: rgba(102, 126, 234, 0.4);
            transform: translateX(10px);
        }

        .nebula {
            position: absolute;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0;
            animation: floatNebula 15s ease-in-out infinite;
        }

        @keyframes floatNebula {
            0%, 100% { transform: translate(0, 0); opacity: 0; }
            50% { transform: translate(100px, -100px); opacity: 0.5; }
        }
    </style>
</head>
<body>
    <div id="game-container">
        <div class="stars" id="stars"></div>

        <!-- ç”»é¢ä¸€ï¼šå…³å¡å¼€å¯ -->
        <div class="scene active" id="scene1">
            <div class="character">
                <div class="girl-astronaut">
                    <div class="astronaut-helmet"></div>
                    <div class="astronaut-head">
                        <div class="hair">
                            <div class="hair-side-left"></div>
                            <div class="hair-side-right"></div>
                        </div>
                        <div class="astronaut-face">
                            <div class="eye left"></div>
                            <div class="eye right"></div>
                            <div class="smile"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="dialog-box">
                <h2>ğŸŒŸ æ˜Ÿç©ºé‚€è¯·</h2>
                <p>å‘¼å«åœ°çƒå°æ¢é™©å®¶ï¼æˆ‘æ˜¯ä½ çš„å¤ªç©ºå‘å¯¼ç‹äºšå¹³ã€‚æˆ‘ä»¬çš„å®‡å®™é£èˆ¹å·²ç»å……èƒ½å®Œæ¯•ï¼Œå‡†å¤‡å‰å¾€å¤ªé˜³ç³»çš„å‡ ä¸ªç¥ç§˜æ˜Ÿçƒè¿›è¡Œç§‘å­¦è€ƒå¯Ÿã€‚è¿™æ¬¡çš„ä»»åŠ¡ä¸æ˜¯ç«èµ›ï¼Œè€Œæ˜¯ä»”ç»†åœ°è§‚å¯Ÿå’Œè®°å½•ã€‚æ¯é¢—æ˜Ÿçƒéƒ½æ˜¯å®‡å®™ä¸­ç‹¬ä¸€æ— äºŒçš„å®çŸ³ï¼Œç­‰ä½ æ¥å‘ç°å®ƒä»¬çš„ç§˜å¯†ã€‚å‡†å¤‡å¥½å¼€å§‹ä½ çš„æ˜Ÿé™…å‘ç°ä¹‹æ—…äº†å—ï¼Ÿ</p>
                <button class="btn" onclick="goToScene(2)">å¯åŠ¨æ˜Ÿé™…å¯¼èˆªï¼</button>
            </div>
        </div>

        <!-- ç”»é¢äºŒï¼šå‡†å¤‡å®¤ -->
        <div class="scene" id="scene2">
            <div class="dialog-box" style="max-width: 800px;">
                <h2>ğŸš€ ç§‘è€ƒä»»åŠ¡ç®€æŠ¥</h2>
                <p style="font-size: 18px; color: #667eea; font-weight: bold; margin-bottom: 15px;">ç§‘è€ƒä»»åŠ¡ï¼šæ¢ç´¢ 3 é¢—æ˜Ÿçƒï¼Œå®Œæˆä½ çš„å®‡å®™æ ‡æœ¬æ”¶é›†</p>
                <p style="margin-bottom: 40px;">ç‚¹å‡»æ˜Ÿå›¾ä¸Šçš„æ˜Ÿçƒï¼Œå³å¯è‡ªåŠ¨é©¾é©¶å‰å¾€ã€‚åœ¨æ˜Ÿçƒä¸Šï¼Œè¯·ä»”ç»†ç‚¹å‡»ä½ æ„Ÿå…´è¶£çš„åœ°æ–¹è¿›è¡Œè°ƒæŸ¥ï¼</p>
                <div class="planet-map">
                    <div class="planet-icon mars" data-name="ç«æ˜Ÿ" onclick="explorePlanet('mars')"></div>
                    <div class="planet-icon jupiter" data-name="æœ¨æ˜Ÿ" onclick="explorePlanet('jupiter')"></div>
                    <div class="planet-icon saturn" data-name="åœŸæ˜Ÿ" onclick="explorePlanet('saturn')"></div>
                </div>
                <button class="btn" onclick="goToScene(3)" style="margin-top: 60px;">ç©¿ä¸Šå®‡èˆªæœï¼Œå¼€å§‹æ¢ç´¢ï¼</button>
            </div>
        </div>

        <!-- ç”»é¢ä¸‰ï¼šæ˜Ÿçƒæ¢ç´¢ -->
        <div class="scene" id="scene3">
            <div class="dialog-box" style="max-width: 800px;">
                <h2 id="planet-title">é€‰æ‹©ä¸€é¢—æ˜Ÿçƒå¼€å§‹æ¢ç´¢</h2>
                <div class="planet-map">
                    <div class="planet-icon mars" data-name="ç«æ˜Ÿ" onclick="explorePlanet('mars')"></div>
                    <div class="planet-icon jupiter" data-name="æœ¨æ˜Ÿ" onclick="explorePlanet('jupiter')"></div>
                    <div class="planet-icon saturn" data-name="åœŸæ˜Ÿ" onclick="explorePlanet('saturn')"></div>
                </div>
                <p id="exploration-status" style="margin-top: 20px;">å·²æ¢ç´¢ï¼š<span id="explored-count">0</span>/3 é¢—æ˜Ÿçƒ</p>
                <button class="btn" id="finish-btn" onclick="goToScene(5)" style="display: none; margin-top: 20px;">è¿”å›åŸºåœ°</button>
            </div>
        </div>

        <!-- ç”»é¢3.5ï¼šæ˜Ÿçƒè¯¦ç»†æ¢ç´¢ -->
        <div class="scene" id="scene3-detail">
            <div class="dialog-box" style="max-width: 900px;">
                <h2 id="planet-detail-title">æ­£åœ¨æ¢ç´¢...</h2>
                <p style="color: #888; margin-bottom: 20px;">ç‚¹å‡»æ˜Ÿçƒä¸Šçš„å…‰ç‚¹æ¥å‘ç°çŸ¥è¯†ï¼</p>
                <div id="planet-detail-view"></div>
                <p style="margin-top: 20px; color: #667eea; font-weight: bold;" id="hotspot-status">å‘ç°è¿›åº¦ï¼š<span id="discovered-count">0</span>/<span id="total-hotspots">3</span></p>
                <button class="btn" onclick="goToScene(3)" style="margin-top: 20px;">è¿”å›æ˜Ÿå›¾</button>
            </div>
        </div>

        <!-- ç”»é¢å››ï¼šæ ‡æœ¬å¢™ -->
        <div class="scene" id="scene5">
            <div class="dialog-box" style="max-width: 700px;">
                <h2>âœ¨ å®‡å®™æ ‡æœ¬å¢™</h2>
                <p>æ­å–œä½ æˆä¸ºäº†ä¸€åå°å°çš„è¡Œæ˜Ÿç§‘å­¦å®¶ï¼ä½ æ”¶é›†çš„å®‡å®™çŸ¥è¯†ï¼Œæ˜¯ä½ æœ€å®è´µçš„è´¢å¯Œã€‚</p>
                <div class="specimen-wall" id="specimen-wall">
                    <div class="specimen" data-planet="mars">
                        <div style="font-size: 60px;">ğŸ”´</div>
                    </div>
                    <div class="specimen" data-planet="jupiter">
                        <div style="font-size: 60px;">ğŸŸ </div>
                    </div>
                    <div class="specimen" data-planet="saturn">
                        <div style="font-size: 60px;">ğŸª</div>
                    </div>
                </div>
                <button class="btn" onclick="goToScene(6)">ç»§ç»­å‰è¿›</button>
            </div>
        </div>

        <!-- ç”»é¢äº”ï¼šæƒ…æ„Ÿå‡å -->
        <div class="scene" id="scene6">
            <div class="character full-body">
                <div class="girl-astronaut">
                    <div class="astronaut-leg left"></div>
                    <div class="astronaut-leg right"></div>
                    <div class="astronaut-arm left"></div>
                    <div class="astronaut-arm right"></div>
                    <div class="astronaut-body"></div>
                    <div class="astronaut-helmet"></div>
                    <div class="astronaut-head">
                        <div class="hair">
                            <div class="hair-side-left"></div>
                            <div class="hair-side-right"></div>
                        </div>
                        <div class="astronaut-face">
                            <div class="eye left"></div>
                            <div class="eye right"></div>
                            <div class="smile"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="dialog-box" style="max-width: 650px;">
                <h2>ğŸŒŒ å®‡å®™ä¸è‡ªæˆ‘</h2>
                <p>åœ¨æˆ‘ä»¬å¹¿é˜”çš„å®‡å®™ä¸­ï¼Œæ¯ä¸€é¢—æ˜Ÿçƒéƒ½å¦‚æ­¤ä¸åŒï¼Œæœ‰ç€è‡ªå·±ç‹¬ç‰¹çš„æ•…äº‹ã€‚å°±åƒæˆ‘ä»¬æ¯ä¸ªå¥³å­©ä¸€æ ·ï¼Œéƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ã€‚ä½ çš„ç‹¬ç‰¹ä¹‹å¤„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
                <div class="choice-buttons">
                    <button class="choice-btn" onclick="makeChoice(1)">ğŸ”­ æˆ‘çš„å¥½å¥‡å¿ƒåƒå®‡å®™ä¸€æ ·å¤§ï¼</button>
                    <button class="choice-btn" onclick="makeChoice(2)">ğŸŒ æˆ‘åƒåœ°çƒä¸€æ ·ï¼Œå…³çˆ±èº«è¾¹çš„æ¯ä¸€ä¸ªæœ‹å‹</button>
                    <button class="choice-btn" onclick="makeChoice(3)">â­ æˆ‘æ­£åœ¨åŠªåŠ›ï¼Œæƒ³æˆä¸ºä¸€é¢—å‘å…‰çš„æ˜Ÿæ˜Ÿï¼</button>
                </div>
            </div>
        </div>

        <!-- ç”»é¢å…­ï¼šç»“å±€ -->
        <div class="scene" id="scene7">
            <div class="nebula" style="background: radial-gradient(circle, rgba(102, 126, 234, 0.5), transparent); top: 10%; left: 10%;"></div>
            <div class="nebula" style="background: radial-gradient(circle, rgba(234, 102, 165, 0.5), transparent); top: 50%; right: 10%; animation-delay: 5s;"></div>
            <div class="nebula" style="background: radial-gradient(circle, rgba(102, 234, 200, 0.5), transparent); bottom: 10%; left: 30%; animation-delay: 10s;"></div>
            <div class="dialog-box" style="max-width: 650px;">
                <h2 id="final-message">è®°ä½ï¼ŒçœŸæ­£çš„æ¢ç´¢ï¼Œæ—¢æŒ‡å‘æ˜Ÿè¾°å¤§æµ·ï¼Œä¹ŸæŒ‡å‘å‘ç°ä½ è‡ªå·±ã€‚</h2>
                <p style="font-size: 20px; margin-top: 30px;">ç»§ç»­å‰è¿›å§ï¼Œæœªæ¥çš„æ¢é™©å®¶ï¼ğŸš€âœ¨</p>
                <button class="btn" onclick="location.reload()" style="margin-top: 30px;">é‡æ–°å¼€å§‹æ—…ç¨‹</button>
            </div>
        </div>

        <!-- ä¿¡æ¯å¡ç‰‡ -->
        <div class="info-card" id="info-card">
            <h3 id="card-title"></h3>
            <p id="card-content"></p>
            <button class="btn" onclick="closeCard()">çŸ¥é“äº†</button>
        </div>
    </div>

    <script>
        // ç”Ÿæˆæ˜Ÿç©º
        const starsContainer = document.getElementById('stars');
        for (let i = 0; i < 100; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.width = Math.random() * 3 + 'px';
            star.style.height = star.style.width;
            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            star.style.animationDelay = Math.random() * 3 + 's';
            starsContainer.appendChild(star);
        }

        const planetData = {
            mars: {
                name: 'ç«æ˜Ÿ',
                facts: [
                    { 
                        title: 'å¥¥æ—åŒ¹æ–¯å±±', 
                        content: 'å¤ªé˜³ç³»æœ€é«˜å±±å³°ï¼é«˜åº¦æ˜¯ç ç©†æœ—ç›å³°çš„3å€å“¦ï¼è¿™é‡Œå‡ ä¹æ²¡æœ‰ç©ºæ°”ï¼Œéå¸¸å¯’å†·ã€‚ğŸ”ï¸',
                        position: { top: '25%', left: '35%' }
                    },
                    { 
                        title: 'ç«æ˜Ÿæå† ', 
                        content: 'ç«æ˜Ÿä¸¤ææœ‰å†°å† ï¼Œç”±æ°´å†°å’Œå¹²å†°ç»„æˆï¼Œéšå­£èŠ‚å˜åŒ–è€Œæ‰©å¤§æˆ–ç¼©å°ã€‚â„ï¸',
                        position: { top: '10%', left: '50%' }
                    },
                    { 
                        title: 'çº¢è‰²å¤–è¡¨', 
                        content: 'ç«æ˜Ÿçœ‹èµ·æ¥æ˜¯çº¢è‰²çš„ï¼Œå› ä¸ºå®ƒçš„è¡¨é¢å¯Œå«æ°§åŒ–é“ï¼Œå°±åƒç”Ÿé”ˆçš„é“ä¸€æ ·ï¼ğŸ”´',
                        position: { top: '50%', left: '70%' }
                    }
                ]
            },
            jupiter: {
                name: 'æœ¨æ˜Ÿ',
                facts: [
                    { 
                        title: 'å¤§çº¢æ–‘', 
                        content: 'ä¸€ä¸ªè¶…çº§å¤§é£æš´ï¼å·²ç»åˆ®äº†è‡³å°‘350å¹´ï¼Œå¤§åˆ°å¯ä»¥è£…ä¸‹æ•´ä¸ªåœ°çƒã€‚ğŸŒªï¸',
                        position: { top: '45%', left: '30%' }
                    },
                    { 
                        title: 'æ°”æ€å·¨æ˜Ÿ', 
                        content: 'æœ¨æ˜Ÿæ²¡æœ‰å›ºä½“è¡¨é¢ï¼Œå®Œå…¨ç”±æ°”ä½“ç»„æˆã€‚å¦‚æœä½ æƒ³ç«™åœ¨ä¸Šé¢ï¼Œä¼šç›´æ¥æ‰ä¸‹å»ï¼â˜ï¸',
                        position: { top: '30%', left: '60%' }
                    },
                    { 
                        title: 'å«æ˜Ÿä¹‹ç‹', 
                        content: 'æœ¨æ˜Ÿæœ‰79é¢—å·²çŸ¥å«æ˜Ÿï¼Œå…¶ä¸­4é¢—æœ€å¤§çš„å«æ˜Ÿæ˜¯ä¼½åˆ©ç•¥å‘ç°çš„ï¼Œå«åšä¼½åˆ©ç•¥å«æ˜Ÿã€‚ğŸŒ™',
                        position: { top: '65%', left: '55%' }
                    }
                ]
            },
            saturn: {
                name: 'åœŸæ˜Ÿ',
                facts: [
                    { 
                        title: 'è¡Œæ˜Ÿç¯', 
                        content: 'è¿™äº›å…‰ç¯ä¸»è¦æ˜¯ç”±å†°å—å’Œå²©çŸ³ç»„æˆçš„ï¼Œåƒç»™åœŸæ˜Ÿç©¿ä¸Šäº†ä¸€æ¡é—ªé—ªå‘å…‰çš„è£™å­ã€‚âœ¨',
                        position: { top: '30%', left: '20%' }
                    },
                    { 
                        title: 'å¯†åº¦æœ€å°', 
                        content: 'åœŸæ˜Ÿçš„å¯†åº¦æ¯”æ°´è¿˜å°ï¼å¦‚æœæœ‰ä¸€ä¸ªè¶³å¤Ÿå¤§çš„æ¸¸æ³³æ± ï¼ŒåœŸæ˜Ÿå¯ä»¥æµ®åœ¨æ°´é¢ä¸Šã€‚ğŸŠ',
                        position: { top: '50%', left: '50%' }
                    },
                    { 
                        title: 'å…­è¾¹å½¢é£æš´', 
                        content: 'åœŸæ˜ŸåŒ—ææœ‰ä¸€ä¸ªç¥å¥‡çš„å…­è¾¹å½¢é£æš´ï¼Œç§‘å­¦å®¶è‡³ä»Šè¿˜åœ¨ç ”ç©¶ä¸ºä»€ä¹ˆä¼šæ˜¯è¿™ä¸ªå½¢çŠ¶ã€‚â¬¡',
                        position: { top: '20%', left: '65%' }
                    }
                ]
            }
        };

        let exploredPlanets = new Set();
        let currentPlanet = null;
        let discoveredHotspots = new Set();

        function goToScene(sceneNum) {
            document.querySelectorAll('.scene').forEach(s => s.classList.remove('active'));
            setTimeout(() => {
                const sceneId = sceneNum === 3.5 ? 'scene3-detail' : 'scene' + sceneNum;
                document.getElementById(sceneId).classList.add('active');
            }, 300);
        }

        function explorePlanet(planet) {
            currentPlanet = planet;
            discoveredHotspots.clear();
            
            // æ›´æ–°æ ‡é¢˜
            document.getElementById('planet-detail-title').textContent = 'æ¢ç´¢' + planetData[planet].name;
            
            // åˆ›å»ºæ˜Ÿçƒè§†å›¾
            const planetView = document.getElementById('planet-detail-view');
            planetView.innerHTML = '';
            
            const planetDiv = document.createElement('div');
            planetDiv.className = 'planet-view ' + planet;
            
            // å¦‚æœæ˜¯åœŸæ˜Ÿï¼Œæ·»åŠ è¡Œæ˜Ÿç¯
            if (planet === 'saturn') {
                const ring = document.createElement('div');
                ring.className = 'saturn-ring';
                planetDiv.appendChild(ring);
            }
            
            // æ·»åŠ çƒ­ç‚¹
            planetData[planet].facts.forEach((fact, index) => {
                const hotspot = document.createElement('div');
                hotspot.className = 'hotspot';
                hotspot.textContent = 'âœ¨';
                hotspot.style.top = fact.position.top;
                hotspot.style.left = fact.position.left;
                hotspot.dataset.index = index;
                hotspot.onclick = function() {
                    discoverHotspot(planet, index);
                };
                planetDiv.appendChild(hotspot);
            });
            
            planetView.appendChild(planetDiv);
            
            // æ›´æ–°è¿›åº¦
            document.getElementById('discovered-count').textContent = '0';
            document.getElementById('total-hotspots').textContent = planetData[planet].facts.length;
            
            goToScene(3.5);
        }

        function discoverHotspot(planet, index) {
            const fact = planetData[planet].facts[index];
            discoveredHotspots.add(index);
            
            // æ›´æ–°è¿›åº¦
            document.getElementById('discovered-count').textContent = discoveredHotspots.size;
            
            // æ˜¾ç¤ºä¿¡æ¯å¡
            showInfoCard(fact.title, fact.content);
            
            // éšè—å·²ç‚¹å‡»çš„çƒ­ç‚¹
            const hotspots = document.querySelectorAll('.hotspot');
            hotspots[index].style.opacity = '0.3';
            hotspots[index].style.pointerEvents = 'none';
            
            // å¦‚æœå…¨éƒ¨å‘ç°ï¼Œæ ‡è®°æ˜Ÿçƒä¸ºå·²æ¢ç´¢
            if (discoveredHotspots.size === planetData[planet].facts.length) {
                setTimeout(() => {
                    exploredPlanets.add(planet);
                    updateExplorationStatus();
                    alert(`${planetData[planet].name}æ•°æ®é‡‡é›†å®Œæ¯•ï¼ğŸ‰`);
                }, 500);
            }
        }

        function showInfoCard(title, content) {
            document.getElementById('card-title').textContent = title;
            document.getElementById('card-content').textContent = content;
            document.getElementById('info-card').classList.add('show');
        }

        function closeCard() {
            document.getElementById('info-card').classList.remove('show');
        }

        function updateExplorationStatus() {
            document.getElementById('explored-count').textContent = exploredPlanets.size;
            
            if (exploredPlanets.size === 3) {
                document.getElementById('finish-btn').style.display = 'inline-block';
                
                // æ›´æ–°æ ‡æœ¬å¢™
                exploredPlanets.forEach(planet => {
                    const specimen = document.querySelector(`.specimen[data-planet="${planet}"]`);
                    if (specimen) {
                        specimen.classList.add('unlocked');
                    }
                });
            }
        }

        function makeChoice(choice) {
            const messages = [
                "ä½ çš„å¥½å¥‡å¿ƒå°†å¸¦ä½ æ¢ç´¢æ— é™çš„å¯èƒ½ï¼",
                "ä½ çš„å…³çˆ±è®©è¿™ä¸ªä¸–ç•Œæ›´åŠ æ¸©æš–ï¼",
                "æ¯ä¸€é¢—æ˜Ÿæ˜Ÿéƒ½æ›¾æ˜¯ä¸€ç²’å°˜åŸƒï¼ŒåšæŒå°±ä¼šå‘å…‰ï¼"
            ];
            
            document.getElementById('final-message').textContent = messages[choice - 1];
            
            setTimeout(() => {
                goToScene(7);
            }, 100);
        }

        // è®©æ ‡æœ¬å¢™çš„æ˜Ÿçƒå¯ä»¥ç‚¹å‡»æŸ¥çœ‹ä¿¡æ¯
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.specimen').forEach(specimen => {
                specimen.addEventListener('click', function() {
                    if (this.classList.contains('unlocked')) {
                        const planet = this.dataset.planet;
                        const info = planetData[planet];
                        let content = info.facts.map(f => `${f.title}: ${f.content}`).join('\n\n');
                        showInfoCard(info.name + ' çŸ¥è¯†å›é¡¾', content);
                    }
                });
            });
        });
    </script>
</body>
</html>